# MySQL总结之索引

## 1.索引分类：聚簇索引和非聚簇索引

转载： https://www.jianshu.com/p/fa8192853184 

### 通俗讲

**聚簇索引**：将数据存储与索引放在一起， 索引结构的叶子节点保存了**行数据** ,找到了索引就是找到了数据。

**非聚簇索引**：将数据存储与索引分开存储，索引结构中的叶子结点指向了数据的对应行。

1. myisam通过key_buffer把索引先缓存到内存中，当需要访问数据时（通过索引访问数据），在内存中直接搜索索引，然后通过索引找到**磁盘相应数据**，这也就是为什么索引不在key buffer命中时，速度慢的原因
2. 澄清一个概念：innodb中，在聚簇索引之上创建的索引称之为辅助索引，辅助索引访问数据总是需要二次查找，非聚簇索引都是辅助索引，像复合索引、前缀索引、唯一索引， **辅助索引叶子节点存储的不再是行的物理位置，而是主键值，辅助索引访问数据总是需要二次查找**。 

## 聚簇索引与非聚簇索引的使用场景

![聚簇索引与非聚簇索引的使用场景](https://upload-images.jianshu.io/upload_images/10154499-d53a5ce9cecf22f3.png?imageMogr2/auto-orient/strip|imageView2/2/w/864/format/webp)

## 聚簇索引具有唯一性

聚簇索引将数据存储和索引放在一起，因此一张表仅能有一个聚簇索引。

**那么为什么仅能有一个聚簇索引呢？**

表中行的物理顺序和索引中行的物理顺序是相同的，**在创建任何非聚簇索引之前创建非聚簇索引**，因为表中行的数据物理存储是按照聚簇索引来进行顺序排列的，并且自动维护这个顺序。